exports.ids=[9],exports.modules={115:function(t,e,r){var content=r(135);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);var o=r(8).default;t.exports.__inject__=function(t){o("74d33af6",content,!0,t)}},116:function(t,e,r){var content=r(137);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);var o=r(8).default;t.exports.__inject__=function(t){o("0eea76e6",content,!0,t)}},134:function(t,e,r){"use strict";r.r(e);var o=r(115),n=r.n(o);for(var d in o)"default"!==d&&function(t){r.d(e,t,(function(){return o[t]}))}(d);e.default=n.a},135:function(t,e,r){(e=r(7)(!1)).push([t.i,"table.v-table tbody td[data-v-1fe821f5]:not(:first-child),table.v-table thead th[data-v-1fe821f5]:not(:first-child){padding:5px}.m_add[data-v-1fe821f5]{margin:1px;background-color:#304ffe}.m_edit[data-v-1fe821f5]{margin:1px;background-color:#ffc107}.m_delete[data-v-1fe821f5]{margin:1px;background-color:#ff5722}.m_apply[data-v-1fe821f5]{margin:1px;background-color:#4caf50}td[data-v-1fe821f5],th[data-v-1fe821f5]{text-align:left;border-top:1px solid #9fa8da;border-bottom:1px solid #9fa8da;width:1px}",""]),t.exports=e},136:function(t,e,r){"use strict";r.r(e);var o=r(116),n=r.n(o);for(var d in o)"default"!==d&&function(t){r.d(e,t,(function(){return o[t]}))}(d);e.default=n.a},137:function(t,e,r){(e=r(7)(!1)).push([t.i,".modal-backdrop[data-v-593fba97]{opacity:.1!important}.fixed[data-v-593fba97]{border:1px solid #757575;position:fixed;bottom:1%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);box-shadow:none!important}.m_add[data-v-593fba97]{margin:1px;background-color:#304ffe}.m_edit[data-v-593fba97]{margin:1px;background-color:#ffc107}.m_delete[data-v-593fba97]{margin:1px;background-color:#ff5722}.m_apply[data-v-593fba97]{margin:1px;background-color:#4caf50}",""]),t.exports=e},138:function(t,e,r){"use strict";r.r(e);var o=r(6),n=r(9),d={data:()=>({headers:[{text:"Name",value:"name"},{text:"Modified Date",value:"modified_date"},{text:"",value:"action",sortable:!1,align:"right"}]}),computed:{...Object(o.mapState)(n.a.state("projects",["projects","search","offlineProjects"])),sort:()=>({by:["modified_date"],desc:[!0]}),formTitle(){return-1===this.editedIndex?"New Item":"Edit Item"},items(){return this.projects},offline(){return this.$nuxt.isOffline}},watch:{offline:{immediate:!0,handler:async function(t){t&&this.aOfflineProjects()}}},methods:{...Object(o.mapActions)(n.a.getter("projects",["projectsChange","aOfflineProjects"])),...Object(o.mapActions)(["runtimeCache"]),open(){this.projectsChange({state:"dialog",value:!0})},newItem(){this.projectsChange({state:"action",value:"create"}),this.projectsChange({state:"editedIndex",value:-1}),this.open()},copyItem(){this.projectsChange({state:"action",value:"copy"}),this.projectsChange({state:"editedIndex",value:-1}),this.open()},editItem(t){this.projectsChange({state:"action",value:"update"}),this.projectsChange({state:"editedIndex",value:t.id}),this.open()},deleteItem(t){this.projectsChange({state:"action",value:"delete"}),this.projectsChange({state:"editedIndex",value:t.id}),this.open()},testOfflineProjects(t){return!this.offline||this.offlineProjects.find(e=>e.includes(`/api/projects/${t.id}/`))}}},c=r(5);var l=Object(c.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:""}},[r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{md:"10",lg:"8"}},[r("v-btn",{attrs:{color:"primary","data-cy":"newItem"},on:{click:t.newItem}},[r("Fas",{attrs:{i:"plus"}}),t._v("New Project\n      ")],1),t._v(" "),r("v-btn",{staticClass:"success",attrs:{"data-cy":"copyItem"},on:{click:t.copyItem}},[r("Fas",{attrs:{i:"copy"}}),t._v("Copy Project\n      ")],1),t._v(" "),r("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.items,"sort-by":t.sort.by,"sort-desc":t.sort.desc},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[t.testOfflineProjects(o)?r("nuxt-link",{attrs:{to:"/projects/"+o.id,"data-cy":"open"}},[r("v-btn",{staticClass:"mx-2",attrs:{color:"primary"}},[r("Fas",{attrs:{i:"folder-open"}})],1)],1):t._e(),t._v(" "),t.$nuxt.isOnline?r("v-btn",{staticClass:"mx-2",attrs:{color:"warning"},on:{click:function(e){return t.editItem(o)}}},[r("Fas",{attrs:{i:"edit"}})],1):t._e(),t._v(" "),t.$nuxt.isOnline?r("v-btn",{staticClass:"mx-2",attrs:{color:"error"},on:{click:function(e){return t.deleteItem(o)}}},[r("Fas",{attrs:{i:"trash-alt"}})],1):t._e()]}}])})],1)],1)],1)}),[],!1,(function(t){var e=r(134);e.__inject__&&e.__inject__(t)}),"1fe821f5","4b0dd3c5").exports,m=r(53),f=r(0),h={data:()=>({editedItem:{name:null}}),validations(){return{editedItem:this.vld[this.action]}},computed:{...Object(o.mapState)(n.a.state("projects",["projects","dialog","action","editedIndex"])),ac(){return f.b.Acs[this.action]},defaultItem:()=>({create:{name:null},update:{name:null},copy:{name:null,id:null},delete:{}}),items(){return this.projects},vld(){return{create:{name:{required:m.required,unique:t=>!this.projects.find(e=>e.id!=this.editedIndex&&e.name==t)}},update:{name:{required:m.required,unique:t=>!this.projects.find(e=>e.id!=this.editedIndex&&e.name==t)}},copy:{name:{required:m.required,unique:t=>!this.projects.find(e=>e.id!=this.editedIndex&&e.name==t)},id:{required:m.required}},delete:{}}},Errors(){return{name:()=>{const t=[];return this.$v.editedItem.name.$dirty?(!this.$v.editedItem.name.required&&t.push("Name is required."),!this.$v.editedItem.name.unique&&t.push("Project with this name already exist."),t):t},id:()=>{const t=[];return this.$v.editedItem.id.$dirty?(!this.$v.editedItem.id.required&&t.push("Project is required."),t):t}}}},watch:{dialog(t){t||this.close()},editedIndex:{handler(t){this.$v.$reset(),this.editedItem=t>0?Object.assign({},this.projects.find(e=>e.id==t)):Object.assign({},this.defaultItem[this.action])}}},methods:{...Object(o.mapActions)(["login"]),...Object(o.mapActions)(n.a.getter("projects",["projectsChange","aProjects"])),close(){this.projectsChange({state:"dialog",value:!1}),this.editedItem=Object.assign({},this.defaultItem.create),this.$v.$reset()},async save(){if(this.$v.$touch(),!this.$v.$invalid){this.projectsChange({state:"error",value:!1});try{this.editedIndex>-1?"delete"===this.action?await this.$axios.$delete(`/api/projects/${this.editedIndex}/`):await this.$axios.$put(`/api/projects/${this.editedIndex}/`,{name:this.editedItem.name}):"create"===this.action?await this.$axios.$post("/api/projects/",{name:this.editedItem.name}):"copy"===this.action&&await this.$axios.$post(`/api/projects/${this.editedItem.id}/copy/`,{name:this.editedItem.name}),await this.aProjects()}catch(t){console.log(t),this.login(),this.projectsChange({state:"error",value:!0})}this.close()}}}};var v={components:{us_table:l,us_form:Object(c.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-flex",{attrs:{xs12:"",md6:""}},[t.dialog?r("v-card",{staticClass:"fixed",attrs:{flat:""}},[r("v-card-text",{staticClass:"pa-0"},[r("v-container",{staticClass:"pa-1"},[r("v-form",{ref:"form",attrs:{"lazy-validation":""}},[r("v-layout",["delete"===t.action?[r("v-flex",{staticClass:"mt-2"},[r("br"),t._v(" "),r("p",{staticClass:"title text-md-center"},[t._v("\n                  Are you sure you want to delete this project ?\n                ")])])]:[r("v-flex",[r("v-container",[r("v-layout",{attrs:{"justify-space-around":"",row:""}},[r("v-flex",{staticClass:"pa-1"},[r("v-text-field",{attrs:{label:"Name","error-messages":t.Errors.name(),"data-cy":"name"},model:{value:t.$v.editedItem.name.$model,callback:function(e){t.$set(t.$v.editedItem.name,"$model",e)},expression:"$v.editedItem.name.$model"}})],1),t._v(" "),r("v-flex",{staticClass:"pa-1"},["copy"==t.action?r("v-select",{attrs:{label:"Project",items:t.projects,"item-text":"name","item-value":"id","error-messages":t.Errors.id(),"data-cy":"id"},model:{value:t.$v.editedItem.id.$model,callback:function(e){t.$set(t.$v.editedItem.id,"$model",e)},expression:"$v.editedItem.id.$model"}}):t._e()],1)],1)],1)],1)],t._v(" "),r("v-flex",{attrs:{"ma-1":""}},[r("v-btn",{attrs:{"x-small":"",text:""},on:{click:t.close}},[r("Fas",{attrs:{i:"times"}})],1),t._v(" "),r("br"),t._v(" "),r("v-btn",{attrs:{"x-small":"",color:t.ac.color,"data-cy":"save"},on:{click:t.save}},[r("Fas",{attrs:{i:t.ac.name}})],1)],1)],2)],1)],1)],1)],1):t._e()],1)}),[],!1,(function(t){var e=r(136);e.__inject__&&e.__inject__(t)}),"593fba97","e4768dc6").exports},computed:{...Object(o.mapState)(["username"]),...Object(o.mapState)(n.a.state("projects",["error"]))},fetch:({store:t})=>t.dispatch("projects/aProjects"),head(){return{titleTemplate:"List of projects("+this.username+")",meta:[{hid:"description",name:"description",content:"This  Beam Calculator give you diagrams , extremes , exact equations of efforts and displacements of your beam and a lot more"}]}},methods:{...Object(o.mapActions)(n.a.getter("projects",["aProjects"]))}},j=Object(c.a)(v,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("client-only",[e("div",[this.error?e("v-alert",{attrs:{dismissible:"",type:"error"}},[this._v("\n        An error occurred\n      ")]):this._e(),this._v(" "),e("us_table"),this._v(" "),e("us_form")],1)])],1)}),[],!1,null,null,"51d9fc8e");e.default=j.exports}};